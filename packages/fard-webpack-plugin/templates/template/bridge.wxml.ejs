<% for (var i = 0; i < maxDepth; i++) {%>

<template name="$$REMAX_CHILDREN<%= i %>">
  <block wx:for="{{children}}" wx:key="id">
    <block wx:if="{{item.type === '$$REMAX_TYPE_TEXT'}}">{{item.text}}</block>

    <% for (var component of components) {%>
      <block wx:elif="{{item.type === '<%= component.name %>'}}">
        <<%= component.name %>
          class="{{item.props.className}}"
          <% for (var attribute of component.attributes) {%>
          <%= attribute.name %>="{{item.props.<%= attribute.value %>}}"
          <% } %>
        >
          <template is="$$REMAX_CHILDREN<%= i + 1 %>" data="{{ children: item.children }}" />
        </<%= component.name %>>
      </block>
    <% } %>

  </block>

</template>

<% }%>

<%# debug %>

<wxs module="debug">
module.exports.info = function (d) {
  return JSON.stringify(d);
}
</wxs>
