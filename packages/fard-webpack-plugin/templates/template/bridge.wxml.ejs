<% for (var i = 0; i < maxDepth; i++) {%>

<template name="$$REMAX_CHILDREN<%= i %>">
  <block wx:for="{{children}}" wx:key="id">
    <block wx:if="{{item.type === '$$REMAX_TYPE_TEXT'}}">{{item.text}}</block>

    <block wx:if="{{item.type === 'view'}}">
      <view class="{{item.props.className}}">
        <template is="$$REMAX_CHILDREN<%= i + 1 %>" data="{{ children: item.children }}" />
      </view>
    </block>

    <block wx:if="{{item.type === 'text'}}">
      <text class="{{item.props.className}}">
        <template is="$$REMAX_CHILDREN<%= i + 1 %>" data="{{ children: item.children }}" />
      </text>
    </block>

    <block wx:if="{{item.type === 'button'}}">
      <button class="{{item.props.className}}" bindtap="{{item.props.onClick}}">
        <template is="$$REMAX_CHILDREN<%= i + 1 %>" data="{{ children: item.children }}" />
      </button>
    </block>

    <block wx:if="{{item.type === 'image'}}">
      <image class="{{item.props.className}}" src="{{item.props.src}}"></image>
    </block>

    <block wx:if="{{item.type === 'navigator'}}">
      <navigator class="{{item.props.className}}" url="{{item.props.url}}">
        <template is="$$REMAX_CHILDREN<%= i + 1 %>" data="{{ children: item.children }}" />
      </navigator>
    </block>
  </block>

</template>

<% }%>

<%# debug %>

<wxs module="debug">
module.exports.info = function (d) {
  return JSON.stringify(d);
}
</wxs>
